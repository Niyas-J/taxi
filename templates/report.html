{% extends "layout.html" %}

{% block content %}
<section class="section">
    <div class="container" style="max-width: 600px;">
        <h2 class="section-title" style="color: #d32f2f;">Report an Issue</h2>

        <div class="card">
            <p class="mb-2">Your safety is our priority. Please report any issues immediately.</p>

            <form action="{{ url_for('submit_complaint') }}" method="POST">

                <div class="form-group">
                    <label for="driver">Select Driver (if known)</label>
                    <select id="driver" name="driver_id" class="form-control" required>
                        <option value="" disabled selected>Choose driver...</option>
                        {% for driver in drivers %}
                        <option value="{{ driver.id }}">{{ driver.name }} ({{ driver.vehicle_number }})</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="form-group">
                    <label for="reason">Reason</label>
                    <select id="reason" name="reason_type" class="form-control" required>
                        <option value="Rude Behavior">Rude Behavior</option>
                        <option value="Rash Driving">Rash Driving</option>
                        <option value="Hygiene Issue">Hygiene Issue</option>
                        <option value="Overcharging">Overcharging</option>
                        <option value="Harassment">Harassment / Safety Concern</option>
                        <option value="Other">Other</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="details">Details</label>
                    <textarea id="details" name="details" class="form-control" rows="4"
                        placeholder="Describe what happened..."></textarea>
                </div>

                <button type="submit" class="btn btn-primary btn-block" style="background-color: #d32f2f;">Submit
                    Complaint</button>
            </form>
        </div>
    </div>
</section>
{% endblock %}